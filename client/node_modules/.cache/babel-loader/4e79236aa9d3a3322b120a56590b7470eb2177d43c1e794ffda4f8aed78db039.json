{"ast":null,"code":"import React,{useState}from'react';import{Form,Button,Card,Alert,Row,Col}from'react-bootstrap';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddStudent=()=>{const[formData,setFormData]=useState({study_hours:'',attendance:'',previous_grades:'',participation_score:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setSuccess('');try{// Validate form data\nconst numericFields=['study_hours','attendance','previous_grades','participation_score'];for(const field of numericFields){const value=parseFloat(formData[field]);if(isNaN(value)){throw new Error(`${field.replace('_',' ')} must be a number`);}}// Convert string values to numbers\nconst studentData={study_hours:parseFloat(formData.study_hours),attendance:parseFloat(formData.attendance),previous_grades:parseFloat(formData.previous_grades),participation_score:parseFloat(formData.participation_score)};// Send data to the server\nawait axios.post('http://localhost:5000/api/students',studentData);setSuccess('Student added successfully!');setTimeout(()=>{navigate('/');},1000);}catch(err){setError(err.message||'An error occurred while adding the student.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4\",children:\"Add Student\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Student Information\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:success}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Study Hours (per day)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",step:\"0.1\",min:\"0\",max:\"24\",name:\"study_hours\",value:formData.study_hours,onChange:handleChange,placeholder:\"Enter average study hours per day\",required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Enter a value between 0 and 24\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Attendance (%)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",step:\"0.1\",min:\"0\",max:\"100\",name:\"attendance\",value:formData.attendance,onChange:handleChange,placeholder:\"Enter attendance percentage\",required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Enter a value between 0 and 100\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Previous Grades\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",step:\"0.1\",min:\"0\",max:\"100\",name:\"previous_grades\",value:formData.previous_grades,onChange:handleChange,placeholder:\"Enter previous grades (0-100)\",required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Enter a value between 0 and 100\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Participation Score\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",step:\"0.1\",min:\"0\",max:\"10\",name:\"participation_score\",value:formData.participation_score,onChange:handleChange,placeholder:\"Enter participation score (0-10)\",required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Enter a value between 0 and 10\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:loading,children:loading?'Adding...':'Add Student'})})]})]})})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"shadow-sm mb-4 h-100 bg-light\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"d-flex flex-column justify-content-center align-items-center text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-plus display-1 text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-muted\",children:\"Enter student data and click \\\"Add Student\\\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"The student will be added to the database and will appear in the Student Data table immediately.\"})]})})})]})]});};export default AddStudent;","map":{"version":3,"names":["React","useState","Form","Button","Card","Alert","Row","Col","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","AddStudent","formData","setFormData","study_hours","attendance","previous_grades","participation_score","loading","setLoading","error","setError","success","setSuccess","navigate","handleChange","e","name","value","target","handleSubmit","preventDefault","numericFields","field","parseFloat","isNaN","Error","replace","studentData","post","setTimeout","err","message","children","className","md","Body","Title","variant","onSubmit","Group","Label","Control","type","step","min","max","onChange","placeholder","required","Text","disabled"],"sources":["C:/PBL Project/client/src/pages/AddStudent.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Button, Card, Alert, Row, Col } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst AddStudent = () => {\r\n  const [formData, setFormData] = useState({\r\n    study_hours: '',\r\n    attendance: '',\r\n    previous_grades: '',\r\n    participation_score: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n    try {\r\n      // Validate form data\r\n      const numericFields = ['study_hours', 'attendance', 'previous_grades', 'participation_score'];\r\n      for (const field of numericFields) {\r\n        const value = parseFloat(formData[field]);\r\n        if (isNaN(value)) {\r\n          throw new Error(`${field.replace('_', ' ')} must be a number`);\r\n        }\r\n      }\r\n      // Convert string values to numbers\r\n      const studentData = {\r\n        study_hours: parseFloat(formData.study_hours),\r\n        attendance: parseFloat(formData.attendance),\r\n        previous_grades: parseFloat(formData.previous_grades),\r\n        participation_score: parseFloat(formData.participation_score)\r\n      };\r\n      // Send data to the server\r\n      await axios.post('http://localhost:5000/api/students', studentData);\r\n      setSuccess('Student added successfully!');\r\n      setTimeout(() => {\r\n        navigate('/');\r\n      }, 1000);\r\n    } catch (err) {\r\n      setError(err.message || 'An error occurred while adding the student.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-center mb-4\">Add Student</h1>\r\n      <Row>\r\n        <Col md={6}>\r\n          <Card className=\"shadow-sm mb-4\">\r\n            <Card.Body>\r\n              <Card.Title>Student Information</Card.Title>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              {success && <Alert variant=\"success\">{success}</Alert>}\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Study Hours (per day)</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    min=\"0\"\r\n                    max=\"24\"\r\n                    name=\"study_hours\"\r\n                    value={formData.study_hours}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter average study hours per day\"\r\n                    required\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    Enter a value between 0 and 24\r\n                  </Form.Text>\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Attendance (%)</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    name=\"attendance\"\r\n                    value={formData.attendance}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter attendance percentage\"\r\n                    required\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    Enter a value between 0 and 100\r\n                  </Form.Text>\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Previous Grades</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    name=\"previous_grades\"\r\n                    value={formData.previous_grades}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter previous grades (0-100)\"\r\n                    required\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    Enter a value between 0 and 100\r\n                  </Form.Text>\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Participation Score</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    min=\"0\"\r\n                    max=\"10\"\r\n                    name=\"participation_score\"\r\n                    value={formData.participation_score}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter participation score (0-10)\"\r\n                    required\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    Enter a value between 0 and 10\r\n                  </Form.Text>\r\n                </Form.Group>\r\n                <div className=\"d-grid\">\r\n                  <Button \r\n                    variant=\"primary\" \r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                  >\r\n                    {loading ? 'Adding...' : 'Add Student'}\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={6}>\r\n          <Card className=\"shadow-sm mb-4 h-100 bg-light\">\r\n            <Card.Body className=\"d-flex flex-column justify-content-center align-items-center text-center\">\r\n              <i className=\"bi bi-person-plus display-1 text-muted mb-3\"></i>\r\n              <h3 className=\"text-muted\">Enter student data and click \"Add Student\"</h3>\r\n              <p className=\"text-muted\">\r\n                The student will be added to the database and will appear in the Student Data table immediately.\r\n              </p>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddStudent; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}